<html>
  <head>
    <title> Vocab Quiz</title>
        <script src="/static/lib/jquery-min.js" type="text/javascript"></script>
        <script src="/static/lib/choices/scripts/dist/choices.js" type="text/javascript"></script>
        <link rel="stylesheet" href="/static/lib/choices/styles/css/choices.min.css">      
        <script src="/static/lib/underscore-min.js" type="text/javascript"></script>
        <script src="/static/lib/backbone-min.js" type="text/javascript"></script>
        <script src="/static/js/jspsych/jspsych.js" type="text/javascript"></script>
        <script src="/static/js/jspsych/plugins/jspsych-text.js" type="text/javascript"></script>
        <script src="/static/js/jspsych/plugins/jspsych-conditional-run.js" type="text/javascript"></script>
        <script src="/static/js/jspsych/plugins/jspsych-dropdown.js" type="text/javascript"></script>
        <script src="/static/js/jspsych/plugins/jspsych-survey-text.js" type="text/javascript"></script>
        <script src="/static/js/jspsych/plugins/jspsych-survey-multi-choice.js" type="text/javascript"></script>
        <script src="/static/js/jspsych/plugins/jspsych-input-total-score-plugin.js" type="text/javascript"></script>
        <link href="/static/css/jspsych.css" rel="stylesheet" type="text/css"></link>
     </head>
  <body>
    <div id='jspsychTarget'></div>
  </body>
  <script>

      var welcome_block = {
        type: "text",
        text:  `
             <p align="center"><strong> The Vocab Quiz </strong> </p>
             <p> This vocabulary test was designed by researchers at Massachusetts Institute of Technology. </p>
             <p> When you finish, you will see how well you did compared to other people of a similar age and educational background. </p>
             <p> We are studying how people's vocabularies are affected by things like age, birth order, and when you started learning English. </p>
             <p> We also hope the quiz is fun and informative. Thank you for your participation! </p> 
             <p align="center"> Press any key to continue.</p>
             `
 };

      var consent_statement = {
        type: "text",
        text:  `
              <p align="center"> <strong>The Vocab Quiz</strong> </p>
              <p> This experiment is being conducted by researchers at Massachusetts Institute of Technology. Please read this consent statement carefully before deciding whether to participate.</p>
              <p> <strong>About the research:</strong> This experiment examines people's knowledge of English vocabulary. We are interested in how this is affected by demographic variables like age, birth order, and the age at which you began learning English. </p>
              <p><strong> Risks and Benefits:</strong> This research has no known risks. We will explain the purpose of the experiment at the end of the experiment, along with any potential implications of the research. To receive copies of journal articles or research summaries, email gameswithwords@gmail.com. </p>
              <p> <strong>Confidentiality:</strong> Study participation is anonymous and confidential. We do not ask or store your identity. </p>
              <p> <strong>Participation and Withdrawal:</strong> Your participation in this study is completely voluntary, and you may quit at any time without penalty. 
              </p>
              <p> <strong>Review:</strong> This study has been approved by the Massachusetts Institute of Technology institutional review board. </p>
              <p><strong> Agreement: </strong>By pressing any key to continue, I indicate that this research have been sufficiently explained and I agree to participate in this study. </p>
              `
 };

    var intro = {
      type: "text",
      text: `
          <p align="center"> <strong>The Vocab Quiz</strong> </p>
          <p> Are you interested in how your experience affects your language? So are we! </p>
          <p> Please answer the following questions about yourself. </p>
          <p> We will use the answers to show you your score compared to others like you and also for our research into language learning. </p>
          <p> All answers are anonymous and confidential. </p>
          <p align="center"> Press any key to continue. </p>
          `
    };

 var demographics = {
        type: "dropdown",
        questions: [
{
  text: 'Gender:',
  options: ['Male', 'Female'],
  allowMultipleSelections: false,
  required: true,
  placeholder: 'Select gender'

},
{
        text: 'Age:',
        options: ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31', '32', '33', '34', '35', '36', '37', '38', '39', '40', '41', '42', '43', '44', '45', '46', '47', '48', '49', '50', '51', '52', '53', '54', '55', '56', '57', '58', '59', '60', '61', '62', '63', '64', '65', '66', '67', '68', '69', '70', '71', '72', '73', '74', '75', '76', '77', '78', '79', '80', '81', '82', '83', '84', '85', '86', '87', '88', '89', '90', '91', '92', '93', '94', '95', '96', '97', '98', '99', '100'],
        allowMultipleSelections: false,
        required: true,
        placeholder: 'Select age'
},
{
  text: 'Your native langauge(s) learned from birth (if not listed, choose \'other\'):',
  options: ["Abenaki","Abkhaz","Adyghe","Afrikaans","Ainu","Aklanon","Alabama","Albanian","Algerian","American Sign Language","Apache","Arabic","Aragonese","Aramaic","Armenian","Avestan","Ayapathu","Aymara","Azeri","Balinese","Bamwe","Bantu","Basa","Basque","Belarusian","Bemba","Bengali","Berber","Betawi","Bicol","Bisaya","Bobangi","Bosnian","Brahui","Breton","Butuanon","Bukusu","Bulgarian","Burmese","Carib","Catalan","Catawba","Cayuga","Cebuano","Chamorro","Chechen","Cherokee","Chewa","Cheyenne","Chickasaw","Chinese/Cantonese/Yue","Chinese/Danzhou","Chinese/Gan","Chinese/Hakka","Chinese/Hokkien","Chinese/Mandarin","Chinese/Min Bei","Chinese/Min Dong","Chinese/Min Zhong","Chinese/Pu Xian","Chinese/Qiong Wen","Chinese/Shao Jiang","Chinese/Shaozhou Tuhua","Chinese/Taiwanese/Min Nan/Hokkien","Chinese/Wu/Shanghainese","Chinese/Xiang/Hunanese","Chinese/Xianghua","Chinese/Yue","Chinook","Ch'ol","Chorti","Cispa","Coptic","Cornish","Corsican","Cree","Creole","Croatian","Czech","Danish","Delaware","Demonh'ka","Denya","Duma","Dutch","Eggon","Ejagham","Ekegusii","Emakua","English","Eskimo","Esperanto","Estonian","Ewe","Fang","Faroese","Farsi","Finnish","Flemish","Frankish","French","Frisian","Fulfulde","Gaelic","Galician","Gaulish","Gamilaraay","Ganda","Gbari","Georgian","German","Gevove","Gilbertese","Ginyama","Gothic","Greek","Guarani","Gujarati","Gullah","Haida","Hakka","Hawaiian","Hausa","Hiligaynon","Hebrew","Hmong","Hindi","Hittite","Holoholo","Hungarian","Icelandic","Igbo","Ilongo","Indonesian","Ingush","Interlingua","Inuktitut","Inzebi","Irish","Ishkashmi","Italian","Jangshung","Japanese","Jita","Kalanga","Kannada","Kapampangan","Karelian","Kamviri","Karuk","Kashubian","Katcha","Kazakh","Kerewe","Khakas","Khmer","Khowar","Kiga","Kinyarwanda","Kituba","Klallam","Konkani","Korean","Koromfé","Koyo","Kurdish","Kyrgyz","Lao","Lakhota","Latgalian","Latin","Latvian","Lingala","Lithuanian","Livonian","Lojban","Lozi","Luxembourgish","Luwian","Lydian","Macedonian","Malagasy","Malay","Maliseet","Malayalam","Maltese","Mambwe","Manchu","Mandinka","Manx","Maori","Mapudungun","Marathi","Masaba","Mayan","Mayangna","Mawu","Miami","Michif","Miskitu","Mixtec","Mohawk","Mongolian","Mpongwe","Nahuatl","Nande","Nanticoke","Nauruan","Navajo","Ndebele","Nepalese","Newari","Nhirrpi","Norwegian","Nyambo","Nyamwezi","Occitan","Ojibwe","Olkola","Olutec","Onondaga","Oriya","Oscan","Oykangand","Pahlavi","Pakahn","Pali","Papiamento","Pashto","Pende","Passamdy","Phrygian","Pirahã","Polish","Popoluca","Portuguese","Potawatomi","Pulaar","Punjabi","Quechua","Quenya","Rapa Nui","Rasta","Rejang","Romani","Romanian","Roviana","Rotuman","Russian","Saanich","Saami","Samoan","Sanskrit","Sardinian","Scots","Serbian","Seri","Sherpa","Shi","Sina Bidoyoh","Shona","Shoshoni","Sindarin","Sinhalese","Slovak","Slovene","Sogdian","Somali","Sorbian","Spanish","Sranan","Sûdovian","Sumerian","Swabian","Swahili","Swedish","Swiss German","Tagalog","Tamasheq","Tahitian","Taino","Tajik","Tamazight","Tamil","Tarahumara","Tarok","Tatar","Telugu","Tetan","Thai","Tibetan","Tlingit","Tocharian","Tongan","Turkish","Turkmen","Twi","Ukrainian","Ulwa","Umbrian","Üqoi","Urdu","Uyghur","Uzbek","Venda","Veps","Vietnamese","Votic","Wagiman","Walloon","Warlpiri","Welsh","Wolof","Wyandot","Xhosa","Yaka","Yao","Yemba","Yiddish","Yoruba","Zarma","Zoque","Zulu","Other"],
  allowMultipleSelections: true,
  required: true,
  placeholder: 'Select language(s)'

},
{
  text: 'Your primary language now (if not listed, choose \'other\'):',
  options: ["Abenaki","Abkhaz","Adyghe","Afrikaans","Ainu","Aklanon","Alabama","Albanian","Algerian","American Sign Language","Apache","Arabic","Aragonese","Aramaic","Armenian","Avestan","Ayapathu","Aymara","Azeri","Balinese","Bamwe","Bantu","Basa","Basque","Belarusian","Bemba","Bengali","Berber","Betawi","Bicol","Bisaya","Bobangi","Bosnian","Brahui","Breton","Butuanon","Bukusu","Bulgarian","Burmese","Carib","Catalan","Catawba","Cayuga","Cebuano","Chamorro","Chechen","Cherokee","Chewa","Cheyenne","Chickasaw","Chinese/Cantonese/Yue","Chinese/Danzhou","Chinese/Gan","Chinese/Hakka","Chinese/Hokkien","Chinese/Mandarin","Chinese/Min Bei","Chinese/Min Dong","Chinese/Min Zhong","Chinese/Pu Xian","Chinese/Qiong Wen","Chinese/Shao Jiang","Chinese/Shaozhou Tuhua","Chinese/Taiwanese/Min Nan/Hokkien","Chinese/Wu/Shanghainese","Chinese/Xiang/Hunanese","Chinese/Xianghua","Chinese/Yue","Chinook","Ch'ol","Chorti","Cispa","Coptic","Cornish","Corsican","Cree","Creole","Croatian","Czech","Danish","Delaware","Demonh'ka","Denya","Duma","Dutch","Eggon","Ejagham","Ekegusii","Emakua","English","Eskimo","Esperanto","Estonian","Ewe","Fang","Faroese","Farsi","Finnish","Flemish","Frankish","French","Frisian","Fulfulde","Gaelic","Galician","Gaulish","Gamilaraay","Ganda","Gbari","Georgian","German","Gevove","Gilbertese","Ginyama","Gothic","Greek","Guarani","Gujarati","Gullah","Haida","Hakka","Hawaiian","Hausa","Hiligaynon","Hebrew","Hmong","Hindi","Hittite","Holoholo","Hungarian","Icelandic","Igbo","Ilongo","Indonesian","Ingush","Interlingua","Inuktitut","Inzebi","Irish","Ishkashmi","Italian","Jangshung","Japanese","Jita","Kalanga","Kannada","Kapampangan","Karelian","Kamviri","Karuk","Kashubian","Katcha","Kazakh","Kerewe","Khakas","Khmer","Khowar","Kiga","Kinyarwanda","Kituba","Klallam","Konkani","Korean","Koromfé","Koyo","Kurdish","Kyrgyz","Lao","Lakhota","Latgalian","Latin","Latvian","Lingala","Lithuanian","Livonian","Lojban","Lozi","Luxembourgish","Luwian","Lydian","Macedonian","Malagasy","Malay","Maliseet","Malayalam","Maltese","Mambwe","Manchu","Mandinka","Manx","Maori","Mapudungun","Marathi","Masaba","Mayan","Mayangna","Mawu","Miami","Michif","Miskitu","Mixtec","Mohawk","Mongolian","Mpongwe","Nahuatl","Nande","Nanticoke","Nauruan","Navajo","Ndebele","Nepalese","Newari","Nhirrpi","Norwegian","Nyambo","Nyamwezi","Occitan","Ojibwe","Olkola","Olutec","Onondaga","Oriya","Oscan","Oykangand","Pahlavi","Pakahn","Pali","Papiamento","Pashto","Pende","Passamdy","Phrygian","Pirahã","Polish","Popoluca","Portuguese","Potawatomi","Pulaar","Punjabi","Quechua","Quenya","Rapa Nui","Rasta","Rejang","Romani","Romanian","Roviana","Rotuman","Russian","Saanich","Saami","Samoan","Sanskrit","Sardinian","Scots","Serbian","Seri","Sherpa","Shi","Sina Bidoyoh","Shona","Shoshoni","Sindarin","Sinhalese","Slovak","Slovene","Sogdian","Somali","Sorbian","Spanish","Sranan","Sûdovian","Sumerian","Swabian","Swahili","Swedish","Swiss German","Tagalog","Tamasheq","Tahitian","Taino","Tajik","Tamazight","Tamil","Tarahumara","Tarok","Tatar","Telugu","Tetan","Thai","Tibetan","Tlingit","Tocharian","Tongan","Turkish","Turkmen","Twi","Ukrainian","Ulwa","Umbrian","Üqoi","Urdu","Uyghur","Uzbek","Venda","Veps","Vietnamese","Votic","Wagiman","Walloon","Warlpiri","Welsh","Wolof","Wyandot","Xhosa","Yaka","Yao","Yemba","Yiddish","Yoruba","Zarma","Zoque","Zulu","Other"],
  allowMultipleSelections: true,
  required: true,
  placeholder: 'Select language(s)'

},
{
  text: 'Country where you live now:',
  options: ["Afghanistan","Albania","Algeria","Andorra","Andorra","Angola","Antigua & Barbuda","Argentina","Armenia","Aruba (Netherlands)","Austria","Australia","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bonaire (Netherlands)","Bosnia & Herzegovina","Botswana","Brazil","Brunei Darussalam","Bulgaria","Burkina Faso","Burma (Myanmar)","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Cook Islands","Congo, Democratic Republic","Costa Rica","Côte d'Ivoire","Croatia","Cuba","Curacao (Netherlands)","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","East Timor","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","Gabon","Gambia, The","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong (China)","Macau (China)","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland (Republic of)","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Korea-South","Korea-North","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","New Zealand","Nicaragua","Niger","Nigeria","Niue","Netherlands","North Korean","Norway","Oman","Pakistan","Palau","Palestinian State","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","Spain","Sri Lanka","Sudan","Suriname","Swaziland","Sweden","Switzerland","Syria","St. Kitts & Nevis","St. Lucia","St. Vincent & The Grenadines","Samoa","San Marino","São Tomé & Príncipe","Saudi Arabia","Senegal","Serbia","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad & Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City (Holy See)","Venezuela","Vietnam","Western Sahara","Yemen","Zambia","Zimbabwe"],
  allowMultipleSelections: true,
  required: true,
  placeholder: 'Select country'

}
        ]
      };

var more_demographics = {
        type: "dropdown",
        questions: [
        {
        text: 'Age when you first began learning Enlish:',
        options: ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31', '32', '33', '34', '35', '36', '37', '38', '39', '40', '41', '42', '43', '44', '45', '46', '47', '48', '49', '50', '51', '52', '53', '54', '55', '56', '57', '58', '59', '60', '61', '62', '63', '64', '65', '66', '67', '68', '69', '70', '71', '72', '73', '74', '75', '76', '77', '78', '79', '80', '81', '82', '83', '84', '85', '86', '87', '88', '89', '90', '91', '92', '93', '94', '95', '96', '97', '98', '99', '100'],
        allowMultipleSelections: false,
        required: true,
        placeholder: 'Select'
},
{
        text: 'Total years lived in an English-speaking country:',
        options: ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31', '32', '33', '34', '35', '36', '37', '38', '39', '40', '41', '42', '43', '44', '45', '46', '47', '48', '49', '50', '51', '52', '53', '54', '55', '56', '57', '58', '59', '60', '61', '62', '63', '64', '65', '66', '67', '68', '69', '70', '71', '72', '73', '74', '75', '76', '77', '78', '79', '80', '81', '82', '83', '84', '85', '86', '87', '88', '89', '90', '91', '92', '93', '94', '95', '96', '97', '98', '99', '100'],
        allowMultipleSelections: false,
        required: true,
        placeholder: 'Select'
},
{
  text: 'Does anyone in your home (spouse, child, etc?) speak mostly English?',
  options: ['Yes', 'No'],
  allowMultipleSelections: false,
  required: true,
  placeholder: 'Select'

}

        ]
      };

var even_more_demographics = {
        type: "dropdown",
        questions: [
{
  text: 'Are you part of a pair of twins, trio of triplets, etc?',
  options: ['Yes', 'No'],
  allowMultipleSelections: false,
  required: true,
  placeholder: 'Select'

},
{
  text: 'Do you have any full brothers or sisters (same mother, same father)?',
  options: ['Yes', 'No'],
  allowMultipleSelections: false,
  required: true,
  placeholder: 'Select'

},
{
  text: 'Do you have any half or step brothers or sisters (at least one parent is different from yours)?',
  options: ['Yes', 'No'],
  allowMultipleSelections: false,
  required: true,
  placeholder: 'Select'

}

        ]
      };
function hasFullSiblings () {
      var trialResult = jsPsych.data.getData().values()[5];
      var dropdownResults = trialResult.rawResponses;
      var questionAnswers = dropdownResults['A0'];
      var questionAnswers2 = dropdownResults['A1']; 
    return questionAnswers.indexOf('Yes') !== -1 || questionAnswers2.indexOf('Yes') !== -1;
       
    };
function hasHalfSiblings () {
      var trialResult = jsPsych.data.getData().values()[5];
      console.log (trialResult);
      var dropdownResults = trialResult.rawResponses;
      console.log(dropdownResults);
      var questionAnswers = dropdownResults['A2']; 
     return questionAnswers.indexOf('Yes') !== -1;
    };
var conditionals = {
    type: 'conditional-run',
    conditionalFunction: hasFullSiblings,
    dependentPluginParameters: {
      type: 'dropdown',
      questions: [
        {
          text: 'Of your FULL siblings, how many are OLDER?',
          options: ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29'],
          allowMultipleSelections: false,
          required: true,
          placeholder: 'Select'
        },
        {
          text: 'Of your FULL siblings, how many are YOUNGER?',
          options: ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29'],
          allowMultipleSelections: false,
          required: true,
          placeholder: 'Select'
        }
      ],
      preamble: 'These questions are about your FULL siblings: Brothers and sisters who have the SAME mother and father as you. <p> Do NOT count any twin/triplet/etc. </p> <br>'
    }
  };
  var conditionals2 = {
    type: 'conditional-run',
    conditionalFunction: hasFullSiblings, 
    dependentPluginParameters: {
      type: 'survey-text',
      questions: ["Leave any comments here, if necessary:"],
      rows: [10],
      columns: [50]
    }
  };
 var conditionals5 = {
    type: 'conditional-run',
    conditionalFunction: hasHalfSiblings,
    dependentPluginParameters: {
      type: 'dropdown',
      questions: [
        {
          text: 'Of your HALF & STEP siblings, how many are OLDER? ',
          options: ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29'],
          allowMultipleSelections: false,
          required: true,
          placeholder: 'Select'
        },
        {
          text: 'Of your HALF & STEP siblings, how many are YOUNGER?',
          options: ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29'],
          allowMultipleSelections: false,
          required: true,
          placeholder: 'Select'
        }
      ],
      preamble: 'These questions are about your HALF siblings and STEP siblings: Brothers and sisters who share AT MOST one parent with you.'
    }
  };
  var conditionals6 = {
    type: 'conditional-run',
    conditionalFunction: hasHalfSiblings, 
    dependentPluginParameters: {
      type: 'survey-text',
      questions: ["Leave any comments here, if necessary:"],
      rows: [10],
      columns: [50]
    }
  };


  var demographics2 = {
        type: "dropdown",
        questions: [
{
  text: 'Have you taken this quiz before?',
  options: ['Yes', 'No'],
  allowMultipleSelections: false,
  required: true,
  placeholder: 'Select'

},
{
        text: 'Do you have difficulty reading?',
        options: ['Yes', 'No'],
        allowMultipleSelections: false,
        required: true,
        placeholder: 'Select'
},
{
  text: 'Have you been diagnosed with a psychiatric or neurological disorder?',
  options: ['Yes', 'No'],
  allowMultipleSelections: false,
  required: true,
  placeholder: 'Select'

},
{
  text: 'Highest level of education:',
  options:  ['Graduate Degree', 'Some Graduate School', 'Undergraduate Degree (3-5 years higher ed)', 'Some Undergrad (higher ed)', 'High School Degree (12-13 years)', 'Have Not Finished High'],
  allowMultipleSelections: false,
  required: true,
  placeholder: 'Select'

}
        ]
      };

 var beginning_the_quiz = {
          type: "text",
          text: `
              <p> Beginning the quiz...</p>
              <p>This quiz is hard. The results wouldn't be interesting if everyone got 100%!</p>
              <p>Please do your best. At the end you'll see how you compare with others.</p>
              <p align="center"> Press any key to continue. </p>
              `

        };

        const questions = {
            questions: ['LIFE','UMAMI', 'AMASS', 'QUARTER', 'FAMILY', 'ROSTRUM', 'STRATOCASTER', 'GET', 'ENTERTAIN', 'NUMBER', 'HOUSE', 'AMAZING', 'LYCEUM', 'TERMINATE', 'LEXICON', 'DATE', 'LENS', 'DIDACTIC', 'NEBBISH', 'UNPLEASANT', 'CHAPEL', 'SHUT', 'LASCIVIOUS', 'CATALYST', 'SYNDICATE', 'NAVAL', 'SYNOD', 'LAGOON', 'INQUISITION', 'CITADEL', 'INDOLENT', 'MULTILOQUENT'],
            options: [['serum', 'existence', 'stake', 'bundle', 'denial'], ['protein','ligature', 'file', 'omnipotence', 'brevet'], ['manage', 'benefit', 'retain', 'pursue', 'suspect'], ['lye', 'monk', 'ghetto', 'grotto', 'dough'], ['kin', 'artisan', 'hit', 'acid', 'acre'], ['oracle', 'lectern','panacea', 'preparation', 'prerogative'], ['Bowdlerizer', 'Studebaker', 'Schnauzer', 'Emmentaler', 'Rickenbacker'], ['compete', 'acquire', 'last', 'trust', 'aid'], ['manipulate', 'equal','classify', 'delight', 'scrub'], ['termination', 'authenticity', 'digit', 'emancipation', 'superstition'], ['fog', 'bird', 'residence', 'blow', 'dawn'], ['pervasive', 'phenomenal', 'resonant', 'zealous', 'coltish'], ['ocelot', 'nadir', 'ossuary', 'tureen', 'school'], ['desegregate', 'reactivate', 'balkanize', 'culminate', 'persevere'], ['potentiometer', 'secretariat', 'holster', 'dictionary', 'hussar'], ['award', 'cultivate', 'harbor', 'thaw', 'court'], ['arithmetic', 'monocle', 'hemorrhage', 'liberation', 'ratification'], ['colicky', 'piquant', 'Periclean', 'pedantic', 'periphrastic'], ['milksop', 'bucolic', 'fitful', 'xanthic', 'bestial'], ['lousy', 'carnal','bygone','efficacious', 'diligent'], ['hyena', 'inset', 'kiosk', 'limbo', 'tabernacle'], ['deport', 'cremate', 'buzz', 'beckon', 'close'], ['facetious', 'lecherous', 'geodetic', 'municipal', 'baroque'], ['mechacrylate', 'medievalist', 'adjuvant','synod', 'conflagation'], ['cartel', 'synecdoche', 'crystallography', 'externalization', 'intelligentsia'], ['cataclysmic', 'delineated', 'seagoing', 'analytical', 'rival'], ['powwow', 'zealot', 'octave', 'augur', 'apostle'], ['nectar', 'octave', 'proteron', 'estuary', 'brocade'], ['blight','assay','encephalitis', 'prolongation', 'perturbation'], ['configuration', 'milieu', 'keep', 'beatnik', 'ruffle'], ['infamous', 'rococo', 'implacable', 'lackadaisical', 'baneful'], ['masonic', 'polytechnic', 'magisterial', 'maritime', 'prolix']],
            correct:['existence', 'protein', 'retain', 'ghetto', 'kin', 'lectern', 'Rickenbacker', 'acquire', 'delight', 'digit', 'residence', 'phenomenal', 'school', 'culminate', 'dictionary', 'court', 'monocle', 'pedantic', 'milksop', 'lousy', 'tabernacle', 'close', 'lecherous', 'adjuvant', 'cartel', 'seagoing', 'powwow', 'estuary', 'assay', 'keep', 'lackadaisical', 'prolix']
        };

        const getQuestions = function () {
          const stimuli = [];
          for (let i in questions['questions']) {
            let obj = {
              type: "survey-multi-choice",
              required: [true],
              preamble: ['Click on the word that comes closest in meaning to the word in all CAPS:'],
              questions: [questions['questions'][i]],
              options: [questions['options'][i]],
              correct: [questions['correct'][i]],
              force_correct: false,
              on_finish: function(data){
                count_correct_trials=count_correct_trials + data.correct_score;
                correct_percent = (count_correct_trials/32)*100;
                console.log(count_correct_trials)  
                console.log(correct_percent)            }
            };
            stimuli.push(obj);
          }
          return stimuli;
        }


var final_question = {
    type: 'dropdown',
        questions: [
      {
        text: 'Did you use any help in doing this quiz (dictionary, website, asking friends)?',
        options: ['Yes', 'No'],
        allowMultipleSelections: false,
        required: true,
        placeholder: 'Select'
      }
    ]
  };

var comments = {
          type: "survey-text",
          questions: ['Any comments about the quiz?'],
          rows: [5],
          columns: [50] 
        };

 var count_correct_trials = 0;
 


var participant_score = {
  type:"visualize-results",
  participant_score: function () {return count_correct_trials},
  possible_score: 32

};


 /*var participant_score = {
 type: "text",
 text: function () {
  return "<h3>The Vocab Quiz</h3><p>Your score: "+count_correct_trials+"/32</p><div style='background-color:#ddd; width: 100%; height:40px; border-radius: 25px;'><div style='width:"+correct_percent+"%; background-color:#00bcd4; border:00a5bb; text-align: right; padding-right: 20px; line-height: 40px; color: white; height:40px; border-radius: 25px;'></div></div><p>Among native English speakers of your age and education, you did as well as or better than:</p><div style='background-color:#ddd; width: 100%; border-radius: 25px;'><div style='width:80%; background-color:#00bcd4; border: 00a5bb; text-align: right; padding-right: 20px; line-height: 40px; color: white; border-radius: 25px;'>TBD</div></div>"
  }
 }; */

 var thank_you = {
        type: "text",
        text:  `
             <p align="center"> <strong>The Vocab Quiz </strong> </p>
             <p> Thank you for your participation! </p>
             
             `
 };

var timeline = [];
    timeline.push(welcome_block);
    timeline.push(consent_statement);
    timeline.push(intro);
    timeline.push(demographics);
    timeline.push(more_demographics);
    timeline.push(even_more_demographics);
    timeline.push(conditionals);
    timeline.push(conditionals2); 
    timeline.push(conditionals5);
    timeline.push(conditionals6);
    timeline.push(demographics2);
    timeline.push(beginning_the_quiz);
    trials = getQuestions();
    for (let i in trials) {
        timeline.push(trials[i]);
    }
    timeline.push(final_question);
    timeline.push(comments); 
    timeline.push(participant_score);
    timeline.push(thank_you);

    jsPsych.init({
      display_element: document.getElementById('jspsychTarget'),
      timeline: timeline,
      on_data_update: function(data) {
        console.log('Just added new data. The contents of the data are: '+JSON.stringify(data));
  }
    });


  </script>
</html>
